@model MicrosoftEvangelists.ViewModels.HomeIndexViewModel

@{
    ViewData["Title"] = "Microsoft Evangelists";
}


<div class="container">
    <div class="row">
        <div class="col-md-12">
            <h3>Find a local Microsoft evangelist</h3>
            <p>We have a team of evangelists that would nothing more than to come to your event, community meet-up, conference or organisation to talk about how Microsoft technology could be used in your scenario.</p>
            <p>Our evangelists are spread throughout the country and have a diverse set of skills and expertise. Find your local evangelist below, if you cannot find someone who is local to you, feel free to reach out to anyone who has the expertise you are looking for, we are perfectly happy to travel. If all else fails <a href="mailto:ukdxte@microsoft.com?Subject=Evangelist%20Needed">email us</a>.</p>
        </div>
        <div class="col-md-12">
            <hr />
        </div>
        <form asp-controller="home" asp-action="Index" method="post">
            <div class="col-md-4">
                <label>Region</label>
                <select asp-items="@Model.AvaliableRegions" asp-for="SelectedRegion" class="form-control" onchange="this.form.submit()">
                    <option>ALL</option>
                </select>
            </div>
            <div class="col-md-4">
                <label>City</label>
                <select asp-items="@Model.AvaliableCities" asp-for="SelectedCity" class="form-control" onchange="this.form.submit()">
                    <option>ALL</option>
                </select>
            </div>
            <div class="col-md-4">
                <label>Expertise</label>
                <select asp-items="@Model.AvaliableTags" asp-for="SelectedTag" class="form-control" onchange="this.form.submit()">
                    <option>ALL</option>
                </select>
            </div>
        </form>
        <div class="col-md-12">
            <hr />
        </div>
    </div>
</div>

<div class="ui-125">
    <div class="container">
        <div class="row">
            @if (Model.Profiles.Count == 0)
            {
                <div class="col-xs-12">
                    <p>Sorry, we don't have any evangelists that match that criteria. Try a less restrictive search or <a href="mailto:ukdxte@microsoft.com?Subject=Evangelist%20Needed">Email Us</a> and someone will be in touch.</p>
                </div>
            }
            else
            {
                @foreach (var profile in Model.Profiles)
                {
                    <div class="col-md-3 col-sm-6 col-xs-6 col-mob">
                        <a class="white" data-toggle="modal" data-target="#@profile.id">
                            <div class="ui-item">
                                <img src="@profile.picture" alt="Picture of @profile.name" class="img-responsive" style="max-width:262px; max-height:262px" />
                                <div class="ui-button clearfix">
                                    <span><strong>@profile.name</strong></span>
                                    <span class="pull-right"><i class="fa fa-2x fa-angle-double-right white" aria-hidden="true"></i></span>
                                </div>
                            </div>
                        </a>
                    </div>

                    <!-- Modal -->
                    <div class="modal fade" id="@profile.id" tabindex="-1" role="dialog" aria-labelledby="@string.Join(profile.id,"Label")">
                        <div class="modal-dialog" role="document">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                                    <h4 class="modal-title" id="@string.Join(profile.id,"Label")">@profile.name <small>@profile.slogan</small></h4>
                                </div>
                                <div class="modal-body">
                                    <img src="@profile.picture" alt="Picture of @profile.name" class="img-responsive img-circle" style="max-width:100px;" />
                                    @profile.bio
                                    <hr />
                                    I'm into @string.Join(", ", profile.tags)
                                    <hr />
                                    I'm based in @profile.regions.FirstOrDefault(), @profile.country and cover                                                                        @string.Join(", ", profile.cities)
                                    <hr />
                                    Contact me on
                                    <a href="@profile.twitter"><i class="fa fa-2x fa-twitter" aria-hidden="true"></i></a>
                                    <a href="@profile.linkedin"><i class="fa fa-2x fa-linkedin" aria-hidden="true"></i></a>
                                    <a href="@profile.skype"><i class="fa fa-2x fa-skype" aria-hidden="true"></i></a>
                                    <a href="@profile.github"><i class="fa fa-2x fa-github" aria-hidden="true"></i></a>
                                    <a href="@profile.stackoverflow"><i class="fa fa-2x fa-stackoverflow" aria-hidden="true"></i></a>
                                    <a href="@profile.email"><i class="fa fa-2x fa-envelope-o" aria-hidden="true"></i></a>
                                    <a href="@profile.blog"><i class="fa fa-2x fa-rss" aria-hidden="true"></i></a>
                                    or <a href="@profile.website">my personal website</a>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                                    <a class="btn btn-primary" href="@profile.website" role="button"><i class="fa fa-angle-double-right" aria-hidden="true"></i> See more on my site</a>
                                </div>
                            </div>
                        </div>
                    </div>
                }
            }
        </div>
    </div>
</div>

@section scripts{
    <script>



    </script>
}
